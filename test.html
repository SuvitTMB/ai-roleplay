<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SmartInvest AI - Live Pro Edition</title>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Google Fonts: Sarabun -->
    <link href="https://fonts.googleapis.com/css2?family=Sarabun:wght@100;200;300;400;500;600;700;800&display=swap" rel="stylesheet">
    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>
    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        body {
            font-family: 'Sarabun', sans-serif;
            background-color: #f8fafc;
            -webkit-tap-highlight-color: transparent;
        }
        .tab-content { display: none; }
        .tab-content.active { display: block; }
        .audio-playing { animation: ripple 1.5s infinite; }
        @keyframes ripple {
            0% { box-shadow: 0 0 0 0 rgba(79, 70, 229, 0.4); }
            70% { box-shadow: 0 0 0 10px rgba(79, 70, 229, 0); }
            100% { box-shadow: 0 0 0 0 rgba(79, 70, 229, 0); }
        }
        .shimmer-text {
            background: linear-gradient(90deg, #4f46e5, #9333ea, #4f46e5);
            background-size: 200% auto;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            animation: shine 3s linear infinite;
        }
        @keyframes shine { to { background-position: 200% center; } }
        #chat-messages::-webkit-scrollbar { width: 4px; }
        #chat-messages::-webkit-scrollbar-thumb { background: #cbd5e1; border-radius: 10px; }
        
        #error-overlay {
            display: none;
            position: fixed;
            top: 20px;
            left: 50%;
            transform: translateX(-50%);
            z-index: 100;
            width: 90%;
            max-width: 380px;
        }

        .loader {
            border: 2px solid #f3f3f3;
            border-top: 2px solid #4f46e5;
            border-radius: 50%;
            width: 16px;
            height: 16px;
            animation: spin 1s linear infinite;
            display: inline-block;
        }
        @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
        
        .stock-row-main:nth-of-type(4n+1), .stock-row-sub:nth-of-type(4n+2) { background-color: #ffffff; }
        .stock-row-main:nth-of-type(4n+3), .stock-row-sub:nth-of-type(4n+4) { background-color: #fcfcfd; }
    </style>
</head>
<body class="flex justify-center h-screen overflow-hidden">

    <div id="error-overlay" class="bg-rose-500 text-white p-4 rounded-2xl shadow-2xl flex items-center justify-between gap-3 animate-in fade-in">
        <div class="flex items-center gap-3">
            <i data-lucide="alert-circle" class="w-5 h-5"></i>
            <p id="error-message" class="text-xs font-bold"></p>
        </div>
        <button onclick="hideError()"><i data-lucide="x" class="w-4 h-4"></i></button>
    </div>

    <div id="app" class="w-full max-w-md bg-white shadow-2xl flex flex-col relative overflow-hidden border-x border-slate-200">
        
        <audio id="global-audio" preload="auto" playsinline></audio>

        <header class="bg-white/95 backdrop-blur-md px-6 py-4 flex items-center justify-between border-b border-slate-100 sticky top-0 z-20">
            <div class="flex items-center gap-2">
                <div class="bg-indigo-600 p-1.5 rounded-lg shadow-lg">
                    <i data-lucide="brain-circuit" class="text-white w-5 h-5"></i>
                </div>
                <div>
                    <h1 class="text-lg font-bold shimmer-text leading-none">SmartInvest AI</h1>
                    <p id="live-time-status" class="text-[9px] text-slate-400 font-bold uppercase tracking-widest mt-0.5 italic text-emerald-500">Live Sync Active</p>
                </div>
            </div>
            <div class="flex gap-3 text-slate-400">
                <button id="top-refresh-btn"><i data-lucide="refresh-cw" class="w-4 h-4"></i></button>
            </div>
        </header>

        <main class="flex-1 overflow-y-auto pb-28">
            <section id="tab-home" class="tab-content active p-5 space-y-6">
                
                <div class="bg-slate-900 rounded-3xl p-5 text-white shadow-2xl relative overflow-hidden border border-slate-800 transition-all active:scale-[0.98]">
                    <div class="flex justify-between items-center relative z-10">
                        <div class="space-y-1">
                            <h3 class="text-sm font-bold flex items-center gap-2">
                                <span class="flex h-2 w-2 rounded-full bg-emerald-500 animate-pulse"></span>
                                AI Market Recap
                            </h3>
                            <p id="audio-status-text" class="text-[11px] text-slate-400">สรุปดัชนี & ราคาทองล่าสุดประจำวัน</p>
                        </div>
                        <button id="master-audio-btn" class="bg-indigo-600 hover:bg-indigo-500 text-white p-4 rounded-full shadow-xl transition-all group">
                            <i id="audio-icon" data-lucide="play" class="w-6 h-6 fill-current"></i>
                        </button>
                    </div>
                    <div id="audio-visualizer" class="hidden flex items-end gap-1 mt-4 h-4 opacity-50">
                        <div class="w-1 bg-indigo-400 animate-[bounce_0.8s_infinite]"></div>
                        <div class="w-1 bg-indigo-400 animate-[bounce_1.2s_infinite]"></div>
                        <div class="w-1 bg-indigo-400 animate-[bounce_0.9s_infinite]"></div>
                        <div class="w-1 bg-indigo-400 animate-[bounce_1.1s_infinite]"></div>
                        <div class="w-1 bg-indigo-400 animate-[bounce_0.7s_infinite]"></div>
                    </div>
                </div>

                <div class="space-y-3">
                    <div class="flex justify-between items-end px-1">
                        <h3 class="font-bold text-lg text-slate-800 italic">SET Index</h3>
                        <span id="market-badge" class="text-[9px] font-bold px-2 py-1 rounded-md border uppercase tracking-wider italic">CHECKING...</span>
                    </div>
                    <div class="bg-white rounded-3xl p-6 border border-slate-100 shadow-sm relative overflow-hidden">
                        <div class="flex justify-between items-start mb-4 relative z-10">
                            <div>
                                <h2 id="live-set-index" class="text-4xl font-black text-slate-800 tracking-tighter">1,336.11</h2>
                                <div id="live-set-change" class="flex items-center gap-1 text-emerald-500 text-sm font-bold mt-1">
                                    <i data-lucide="trending-up" class="w-4 h-4"></i>
                                    <span>+1.11% (+14.69)</span>
                                </div>
                            </div>
                            <div class="text-right">
                                <p class="text-[10px] text-slate-400 font-bold uppercase tracking-widest leading-none mb-1">Turnover</p>
                                <p id="live-set-turnover" class="text-lg font-black text-indigo-600 tracking-tight leading-none">57,100.78</p>
                                <p class="text-[8px] text-slate-300 font-bold mt-1">Million Baht</p>
                            </div>
                        </div>
                        <div class="h-28 w-full border-t border-slate-50 pt-4 mt-2">
                            <canvas id="marketChart"></canvas>
                        </div>
                    </div>
                </div>

                <div class="space-y-3">
                    <h3 class="font-bold text-lg flex items-center gap-2 text-slate-800 px-1">
                        <i data-lucide="zap" class="text-indigo-600 w-5 h-5"></i> Top 5 Most Active
                    </h3>
                    <div class="bg-white rounded-3xl border border-slate-100 shadow-sm overflow-hidden">
                        <table class="w-full text-left border-collapse">
                            <thead class="bg-slate-50 text-[10px] uppercase font-black text-slate-400">
                                <tr>
                                    <th class="px-5 py-3">Symbol</th>
                                    <th class="px-5 py-3 text-right">Last Price</th>
                                    <th class="px-5 py-3 text-right">Change (%)</th>
                                </tr>
                            </thead>
                            <tbody id="stock-list" class="text-sm"></tbody>
                        </table>
                    </div>
                </div>

                <div class="space-y-3">
                    <h3 class="font-bold text-lg flex items-center gap-2 text-slate-800 px-1">
                        <i data-lucide="coins" class="text-amber-500 w-5 h-5"></i> Gold Market Status
                    </h3>
                    <div class="grid grid-cols-2 gap-3 px-1">
                        <div class="bg-white p-5 rounded-3xl border border-slate-100 shadow-sm relative overflow-hidden group">
                            <div class="absolute left-0 top-0 bottom-0 w-1 bg-amber-500"></div>
                            <p class="text-[9px] text-slate-400 font-black uppercase mb-2">ไทย (สมาคมฯ)</p>
                            <div class="space-y-2">
                                <div class="flex justify-between items-baseline">
                                    <span class="text-[10px] text-slate-400 font-bold uppercase">ขาย:</span>
                                    <h4 id="live-gold-thai-sell" class="text-xl font-black text-slate-800 leading-none">73,600</h4>
                                </div>
                                <div class="flex justify-between items-baseline border-t border-slate-50 pt-1">
                                    <span class="text-[10px] text-slate-400 font-bold uppercase">ซื้อ:</span>
                                    <span id="live-gold-thai-buy" class="text-sm font-bold text-slate-600">73,400</span>
                                </div>
                            </div>
                        </div>
                        <div class="bg-white p-5 rounded-3xl border border-slate-100 shadow-sm relative overflow-hidden flex flex-col justify-between">
                            <div class="absolute left-0 top-0 bottom-0 w-1 bg-indigo-500"></div>
                            <p class="text-[9px] text-slate-400 font-black uppercase mb-1">Global Spot ($)</p>
                            <h4 id="live-gold-spot" class="text-2xl font-black text-slate-800 leading-none mt-2">4,924.39</h4>
                        </div>
                    </div>
                </div>
            </section>

            <section id="tab-chat" class="tab-content h-full flex flex-col">
                <div id="chat-messages" class="flex-1 overflow-y-auto p-4 space-y-4 bg-slate-50/50 pb-10"></div>
                <div class="p-4 bg-white border-t border-slate-100 sticky bottom-0 z-10 shadow-sm">
                    <div class="flex gap-2 items-center">
                        <input id="chat-input" type="text" placeholder="สอบถาม AI วิเคราะห์หุ้น & ทอง..." class="flex-1 bg-slate-50 border-none rounded-2xl px-5 py-4 text-sm focus:ring-2 focus:ring-indigo-500 outline-none transition-all">
                        <button id="send-btn" class="bg-indigo-600 text-white p-4 rounded-2xl shadow-lg active:scale-90 flex items-center justify-center min-w-[56px]">
                            <i id="send-icon" data-lucide="send" class="w-5 h-5"></i>
                        </button>
                    </div>
                </div>
            </section>
        </main>

        <nav class="fixed bottom-0 left-0 right-0 max-w-md mx-auto bg-white/95 backdrop-blur-xl border-t border-slate-100 px-6 py-3 flex justify-between items-center z-30 shadow-lg">
            <button onclick="switchTab('home')" class="nav-btn flex flex-col items-center gap-1 text-indigo-600" data-tab="home">
                <i data-lucide="layout-grid" class="w-5 h-5"></i>
                <span class="text-[9px] font-black uppercase tracking-widest">หน้าหลัก</span>
            </button>
            <button onclick="switchTab('chat')" class="nav-btn bg-indigo-600 text-white p-4 rounded-full shadow-2xl border-4 border-white active:scale-90" data-tab="chat">
                <i data-lucide="message-square" class="w-6 h-6"></i>
            </button>
            <button onclick="switchTab('profile')" class="nav-btn flex flex-col items-center gap-1 text-slate-400">
                <i data-lucide="user" class="w-5 h-5"></i>
                <span class="text-[9px] font-black uppercase tracking-widest">โปรไฟล์</span>
            </button>
        </nav>
    </div>

    <script>
function _0x47f8(_0x5d89f8,_0xd1d85f){_0x5d89f8=_0x5d89f8-0xbc;const _0x18d997=_0x18d9();let _0x47f802=_0x18d997[_0x5d89f8];return _0x47f802;}function _0x18d9(){const _0x2a7571=['isAudioPlaying','innerHTML','parts','</div>','keypress','text-rose-500\x20bg-rose-50\x20border-rose-100','src','507731BfOfHA','live-gold-thai-sell','331323OhWrtD','\x20บาทครับ','top-refresh-btn','value','candidates','+3.50%','text-[9px]\x20font-bold\x20px-2\x20py-1\x20rounded-md\x20border\x20uppercase\x20tracking-wider\x20italic\x20',',\x20Gold\x20','<div\x20class=\x22max-w-[85%]\x20p-4\x20rounded-3xl\x20bg-white\x20text-slate-700\x20border\x20border-slate-100\x20rounded-tl-none\x20text-sm\x20shadow-sm\x20leading-relaxed\x22>','hideError','+2.00','Live\x20Sync:\x20','TRUE','341404CGGuTB','th-TH','currentTime','12:00','justify-start','charCodeAt','57,100.78','replace','AUDIO','.chat-audio-btn\x20[data-lucide]','PTT','https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-09-2025:generateContent?key=','audio-visualizer','</td><td\x20class=\x22px-5\x20pt-3\x20text-right\x22><div\x20class=\x22inline-block\x20px-2\x20py-0.5\x20rounded\x20font-black\x20text-[11px]\x20bg-emerald-50\x20text-emerald-600\x22>','data','15:30','You\x20are\x20a\x20Thai\x20professional\x20stock\x20analyst.\x20SET\x20','json','+2,450','change','.\x20Concise\x20Thai.','Enter','91668kJWeiQ','<div\x20class=\x22max-w-[85%]\x20p-4\x20rounded-3xl\x20bg-indigo-600\x20text-white\x20rounded-tr-none\x20text-sm\x20shadow-sm\x20leading-relaxed\x22>','MARKET\x20CLOSED','find','className','POST','tab-','audio-icon','+0.73%','chat-messages','master-audio-btn','createObjectURL','display','price','DOMContentLoaded','[data-lucide]','data-lucide','สรุปดัชนี\x20&\x20ราคาทองล่าสุดประจำวัน','addEventListener','text','classList','73,400','send-btn','market-badge','content','sell','querySelector','<i\x20data-lucide=\x22send\x22\x20class=\x22w-5\x20h-5\x22></i>','stock-row-main','createIcons','getMinutes','18950VXgOUW','+0.50','none','toLocaleTimeString','set','+0.25','hidden','home','ADVANC','+1.11','Closed','user','onclick','application/json','live-time-status','square','justify-end','stock-row-sub\x20border-b\x20border-slate-50','error-message','stopPropagation','scrollTop','style','volume','live-set-index','stringify','add','index','dataset','forEach','innerText','onended','\x20items-end\x20gap-2\x20group','getDay','stocks','#10b981','inlineData','+0.20','play','atob','100757veBtFc','361.00','remove','</td><td\x20class=\x22px-5\x20pt-3\x20text-right\x20font-black\x22>','trim','stock-list','setAttribute','gold','PRE-OPENING','getElementById','appendChild','symbol','342575yDXGaY','active','line','text-emerald-500\x20bg-emerald-50\x20border-emerald-100','4,924.39','99oSiTbp','73,600','.nav-btn','toggle','12PtrneX','live-gold-spot','chat-input','volume-2','โหลดเสียงล้มเหลว','createElement','flex','<td\x20class=\x22px-5\x20pt-3\x20font-black\x20text-slate-800\x22>','rgba(16,\x20185,\x20129,\x200.05)','setUint16','getContext','setUint32','pause','AIzaSyA5yZNHa4LCobEqKUzN2ilFyhTY_IC8Gyg','flex\x20','text-amber-500\x20bg-amber-50\x20border-amber-100','https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-tts:generateContent?key=','<div\x20class=\x22loader\x22></div>','.chat-audio-btn','+7.00','audio-playing','MARKET\x20OPEN','</div></td>','click','\x20บาท</div></td>','1,336.11','<td\x20colspan=\x223\x22\x20class=\x22px-5\x20pb-3\x22><div\x20class=\x22flex\x20items-center\x20gap-1.5\x20text-[10px]\x20font-bold\x20text-emerald-500\x22><i\x20data-lucide=\x22trending-up\x22\x20class=\x22w-3\x20h-3\x22></i>เพิ่ม(ลด)\x20','playbackRate','+1.05%','+1.71%','text-indigo-600','11.90','key','Kore','+0.56%','error-overlay','.tab-content','marketChart','isChatLoading','live-gold-thai-buy','switchTab','live-set-turnover','length','querySelectorAll','48.00','8fuVRtI','+14.69','14:30'];_0x18d9=function(){return _0x2a7571;};return _0x18d9();}const _0xd123ad=_0x47f8;(function(_0x49fa57,_0x4444a4){const _0x12a50c=_0x47f8,_0x59dd5b=_0x49fa57();while(!![]){try{const _0x1e9a89=parseInt(_0x12a50c(0xfa))/0x1+-parseInt(_0x12a50c(0x155))/0x2+-parseInt(_0x12a50c(0x148))/0x3+parseInt(_0x12a50c(0x10f))/0x4*(parseInt(_0x12a50c(0x106))/0x5)+-parseInt(_0x12a50c(0x16b))/0x6+-parseInt(_0x12a50c(0x146))/0x7*(-parseInt(_0x12a50c(0x13c))/0x8)+-parseInt(_0x12a50c(0x10b))/0x9*(-parseInt(_0x12a50c(0xd3))/0xa);if(_0x1e9a89===_0x4444a4)break;else _0x59dd5b['push'](_0x59dd5b['shift']());}catch(_0x3c49f3){_0x59dd5b['push'](_0x59dd5b['shift']());}}}(_0x18d9,0x1935b),document[_0xd123ad(0xc6)](_0xd123ad(0xc2),()=>{const _0x1aab10=_0xd123ad;lucide[_0x1aab10(0xd1)]();let _0x202219={'gold':{'buy':_0x1aab10(0xc9),'sell':_0x1aab10(0x10c),'change':_0x1aab10(0x167),'updateNo':'63','spot':_0x1aab10(0x10a)},'set':{'index':_0x1aab10(0x128),'change':_0x1aab10(0x13d),'percent':_0x1aab10(0xdc),'volume':_0x1aab10(0x15b),'status':_0x1aab10(0xdd)},'stocks':[{'symbol':_0x1aab10(0xdb),'price':_0x1aab10(0xfb),'absChange':_0x1aab10(0x152),'change':_0x1aab10(0x131)},{'symbol':'DELTA','price':'207.00','absChange':_0x1aab10(0x122),'change':_0x1aab10(0x14d)},{'symbol':_0x1aab10(0x154),'price':_0x1aab10(0x12e),'absChange':_0x1aab10(0xf7),'change':_0x1aab10(0x12c)},{'symbol':_0x1aab10(0x15f),'price':'34.50','absChange':_0x1aab10(0xd8),'change':_0x1aab10(0xbc)},{'symbol':'GULF','price':_0x1aab10(0x13b),'absChange':_0x1aab10(0xd4),'change':_0x1aab10(0x12b)}],'isAudioPlaying':![],'isChatLoading':![]};const _0x40297f=_0x1aab10(0x11c),_0x3eadc1=document[_0x1aab10(0x103)]('global-audio'),_0x748137=document[_0x1aab10(0x103)](_0x1aab10(0xbe)),_0x288ed9=document[_0x1aab10(0x103)](_0x1aab10(0x172)),_0x3fd07b=document[_0x1aab10(0x103)]('audio-status-text'),_0x4bd97b=document[_0x1aab10(0x103)](_0x1aab10(0x161)),_0x1fe35a=document[_0x1aab10(0x103)](_0x1aab10(0x111)),_0x262c0d=document[_0x1aab10(0x103)](_0x1aab10(0xca)),_0x53c448=document['getElementById'](_0x1aab10(0xbd)),_0x49992d=document[_0x1aab10(0x103)](_0x1aab10(0x14a)),_0x331f64=document[_0x1aab10(0x103)](_0x1aab10(0x134))[_0x1aab10(0x119)]('2d');let _0x4fedb1=new Chart(_0x331f64,{'type':_0x1aab10(0x108),'data':{'labels':['10:00','11:00',_0x1aab10(0x158),_0x1aab10(0x13e),_0x1aab10(0x164),'16:30'],'datasets':[{'data':[0x52d,0x534,0x53c,0x53a,0x53e,1336.11],'borderColor':_0x1aab10(0xf5),'borderWidth':0x4,'fill':!![],'backgroundColor':_0x1aab10(0x117),'tension':0.4,'pointRadius':0x0}]},'options':{'responsive':!![],'maintainAspectRatio':![],'plugins':{'legend':{'display':![]}},'scales':{'x':{'display':![]},'y':{'display':![]}}}});function _0x2709f8(){const _0x528107=_0x1aab10,_0x3dc97a=new Date(),_0x38d4b6=_0x3dc97a[_0x528107(0xf3)](),_0x41af05=_0x3dc97a['getHours'](),_0x5bc7a2=_0x3dc97a[_0x528107(0xd2)](),_0xfa51e9=_0x41af05*0x64+_0x5bc7a2;if(_0x38d4b6===0x0||_0x38d4b6===0x6)return _0x528107(0x16d);if(_0xfa51e9>=0x3e8&&_0xfa51e9<=0x4ce||_0xfa51e9>=0x596&&_0xfa51e9<=0x668)return'MARKET\x20OPEN';if(_0xfa51e9>=0x3a2&&_0xfa51e9<0x3e8||_0xfa51e9>=0x578&&_0xfa51e9<0x596)return _0x528107(0x102);return _0x528107(0x16d);}function _0x1e82bd(){const _0x29451e=_0x1aab10,_0x236cd0=_0x2709f8(),_0x5db94a=document['getElementById'](_0x29451e(0xcb));_0x5db94a&&(_0x5db94a[_0x29451e(0xf0)]=_0x236cd0,_0x5db94a[_0x29451e(0x16f)]=_0x29451e(0x14e)+(_0x236cd0===_0x29451e(0x124)?_0x29451e(0x109):_0x236cd0===_0x29451e(0x102)?_0x29451e(0x11e):_0x29451e(0x144)));document[_0x29451e(0x103)](_0x29451e(0x147))[_0x29451e(0xf0)]=_0x202219[_0x29451e(0x101)]['sell'],document[_0x29451e(0x103)](_0x29451e(0x136))['innerText']=_0x202219[_0x29451e(0x101)]['buy'],document[_0x29451e(0x103)](_0x29451e(0x110))[_0x29451e(0xf0)]=_0x202219[_0x29451e(0x101)]['spot'],document[_0x29451e(0x103)](_0x29451e(0xea))['innerText']=_0x202219[_0x29451e(0xd7)]['index'],document[_0x29451e(0x103)](_0x29451e(0x138))[_0x29451e(0xf0)]=_0x202219[_0x29451e(0xd7)][_0x29451e(0xe9)];const _0x15ed79=document[_0x29451e(0x103)](_0x29451e(0xff));_0x15ed79&&(_0x15ed79[_0x29451e(0x140)]='',_0x202219[_0x29451e(0xf4)][_0x29451e(0xef)](_0x198028=>{const _0x5a314c=_0x29451e,_0x1aa23b=document[_0x5a314c(0x114)]('tr');_0x1aa23b[_0x5a314c(0x16f)]=_0x5a314c(0xd0),_0x1aa23b['innerHTML']=_0x5a314c(0x116)+_0x198028[_0x5a314c(0x105)]+_0x5a314c(0xfd)+_0x198028[_0x5a314c(0xc1)]+_0x5a314c(0x162)+_0x198028[_0x5a314c(0x168)]+_0x5a314c(0x125);const _0x4fac28=document[_0x5a314c(0x114)]('tr');_0x4fac28['className']=_0x5a314c(0xe4),_0x4fac28[_0x5a314c(0x140)]=_0x5a314c(0x129)+_0x198028['absChange']+_0x5a314c(0x127),_0x15ed79[_0x5a314c(0x104)](_0x1aa23b),_0x15ed79['appendChild'](_0x4fac28);}));const _0x5ca6c9=document[_0x29451e(0x103)](_0x29451e(0xe1));if(_0x5ca6c9)_0x5ca6c9['innerText']=_0x29451e(0x153)+new Date()[_0x29451e(0xd6)](_0x29451e(0x156));lucide[_0x29451e(0xd1)]();}async function _0x105f16(_0x14d88e,_0x3a5e13,_0x5c4c21=0x5){let _0x2a888c=0x3e8;for(let _0x35ca06=0x0;_0x35ca06<_0x5c4c21;_0x35ca06++){try{const _0x180208=await fetch(_0x14d88e,_0x3a5e13);if(_0x180208['ok'])return _0x180208;await new Promise(_0x1a8a18=>setTimeout(_0x1a8a18,_0x2a888c)),_0x2a888c*=0x2;}catch(_0x21fe91){if(_0x35ca06===_0x5c4c21-0x1)throw _0x21fe91;await new Promise(_0x52506a=>setTimeout(_0x52506a,_0x2a888c)),_0x2a888c*=0x2;}}}async function _0x3b2fea(){const _0x3df491=_0x1aab10;_0x202219['isAudioPlaying']=![],_0x3eadc1[_0x3df491(0x11b)](),_0x3eadc1[_0x3df491(0xf1)]=null,_0x3eadc1[_0x3df491(0x157)]=0x0,_0x3eadc1[_0x3df491(0x145)]='',_0x207e16(![]),document[_0x3df491(0x13a)](_0x3df491(0x15e))[_0x3df491(0xef)](_0x5bdb7c=>{const _0x1d8a4e=_0x3df491;_0x5bdb7c['setAttribute'](_0x1d8a4e(0xc4),_0x1d8a4e(0x112));}),lucide[_0x3df491(0xd1)]();}async function _0x4ec5e3(){const _0x22741f=_0x1aab10;_0x3eadc1[_0x22741f(0x145)]='data:audio/wav;base64,UklGRigAAABXQVZFZm10IBAAAAABAAEARKwAAIhYAQACABAAZGF0YQAAAAA=';try{return await _0x3eadc1['play'](),_0x3eadc1[_0x22741f(0x11b)](),!![];}catch(_0x49450b){return![];}}async function _0x4df0e0(){const _0x2b3ccf=_0x1aab10;if(_0x202219['isAudioPlaying']){await _0x3b2fea();return;}_0x202219['isAudioPlaying']=!![],await _0x4ec5e3(),_0x207e16(!![]);const _0x34b1c8='รายงานภาวะการลงทุนวันที่\x203\x20กุมภาพันธ์ครับ\x20ดัชนีเซตปิดที่\x20'+_0x202219[_0x2b3ccf(0xd7)][_0x2b3ccf(0xed)]+'\x20จุด\x20สำหรับทองคำแท่งในประเทศล่าสุดบาทละ\x20'+_0x202219['gold'][_0x2b3ccf(0xcd)]+_0x2b3ccf(0x149);await _0x5e1f95(_0x34b1c8,_0x3b2fea,1.15);}async function _0x5e1f95(_0x498687,_0x1ab69f,_0x3d5628=0x1){const _0x313b7f=_0x1aab10;try{const _0x36ebbf=await _0x105f16(_0x313b7f(0x11f)+_0x40297f,{'method':_0x313b7f(0x170),'headers':{'Content-Type':_0x313b7f(0xe0)},'body':JSON[_0x313b7f(0xeb)]({'contents':[{'parts':[{'text':_0x498687}]}],'generationConfig':{'responseModalities':[_0x313b7f(0x15d)],'speechConfig':{'voiceConfig':{'prebuiltVoiceConfig':{'voiceName':_0x313b7f(0x130)}}}},'model':'gemini-2.5-flash-preview-tts'})}),_0x155a75=await _0x36ebbf[_0x313b7f(0x166)](),_0x406946=_0x155a75[_0x313b7f(0x14c)]?.[0x0]?.[_0x313b7f(0xcc)]?.[_0x313b7f(0x141)]?.[_0x313b7f(0x16e)](_0x12e3f2=>_0x12e3f2[_0x313b7f(0xf6)])?.['inlineData']?.[_0x313b7f(0x163)];if(_0x406946&&_0x202219[_0x313b7f(0x13f)]){const _0x585d66=_0x17afad(_0x406946);_0x3eadc1['src']=URL[_0x313b7f(0xbf)](_0x585d66),_0x3eadc1[_0x313b7f(0x12a)]=_0x3d5628,_0x3eadc1[_0x313b7f(0xf8)]()['then'](()=>{_0x3eadc1['playbackRate']=_0x3d5628;})['catch'](()=>{_0x47cd25('แตะหน้าจอเพื่ออนุญาตเสียง'),_0x1ab69f();}),_0x3eadc1['onended']=_0x1ab69f;}else _0x1ab69f();}catch(_0x581769){_0x47cd25(_0x313b7f(0x113)),_0x1ab69f();}}function _0x207e16(_0xf212a2){const _0x38e5ac=_0x1aab10;if(_0x288ed9)_0x288ed9['setAttribute'](_0x38e5ac(0xc4),_0xf212a2?_0x38e5ac(0xe2):'play');if(_0x3fd07b)_0x3fd07b[_0x38e5ac(0xf0)]=_0xf212a2?'กำลังบรรยายสรุปข่าวล่าสุด...':_0x38e5ac(0xc5);if(_0x748137)_0x748137[_0x38e5ac(0xc8)][_0x38e5ac(0x10e)](_0x38e5ac(0x123),_0xf212a2);if(_0x4bd97b)_0x4bd97b['classList'][_0x38e5ac(0x10e)](_0x38e5ac(0xd9),!_0xf212a2);lucide[_0x38e5ac(0xd1)]();}function _0x17afad(_0x3bc5f4){const _0x132b81=_0x1aab10,_0x3ef3b3=window[_0x132b81(0xf9)](_0x3bc5f4),_0x5cacae=new Uint8Array(_0x3ef3b3[_0x132b81(0x139)]);for(let _0x221513=0x0;_0x221513<_0x3ef3b3[_0x132b81(0x139)];_0x221513++){_0x5cacae[_0x221513]=_0x3ef3b3[_0x132b81(0x15a)](_0x221513);}const _0x2ad646=new ArrayBuffer(0x2c),_0x457217=new DataView(_0x2ad646);return _0x457217[_0x132b81(0x11a)](0x0,0x52494646,![]),_0x457217[_0x132b81(0x11a)](0x4,0x24+_0x3ef3b3[_0x132b81(0x139)],!![]),_0x457217['setUint32'](0x8,0x57415645,![]),_0x457217[_0x132b81(0x11a)](0xc,0x666d7420,![]),_0x457217[_0x132b81(0x11a)](0x10,0x10,!![]),_0x457217['setUint16'](0x14,0x1,!![]),_0x457217['setUint16'](0x16,0x1,!![]),_0x457217[_0x132b81(0x11a)](0x18,0x5dc0,!![]),_0x457217[_0x132b81(0x11a)](0x1c,0x5dc0*0x2,!![]),_0x457217[_0x132b81(0x118)](0x20,0x2,!![]),_0x457217[_0x132b81(0x118)](0x22,0x10,!![]),_0x457217['setUint32'](0x24,0x64617461,![]),_0x457217['setUint32'](0x28,_0x3ef3b3['length'],!![]),new Blob([_0x2ad646,_0x5cacae],{'type':'audio/wav'});}async function _0xd2792b(_0x192a4e){const _0x24d94f=_0x1aab10;_0x202219[_0x24d94f(0x135)]=!![];if(_0x262c0d)_0x262c0d[_0x24d94f(0x140)]=_0x24d94f(0x120);try{const _0x589e0b=await _0x105f16(_0x24d94f(0x160)+_0x40297f,{'method':'POST','headers':{'Content-Type':'application/json'},'body':JSON[_0x24d94f(0xeb)]({'contents':[{'parts':[{'text':_0x192a4e}]}],'systemInstruction':{'parts':[{'text':_0x24d94f(0x165)+_0x202219[_0x24d94f(0xd7)]['index']+_0x24d94f(0x14f)+_0x202219['gold']['sell']+_0x24d94f(0x169)}]}})}),_0x4fdf2c=await _0x589e0b[_0x24d94f(0x166)](),_0x31a44d=_0x4fdf2c[_0x24d94f(0x14c)]?.[0x0]?.['content']?.[_0x24d94f(0x141)]?.[0x0]?.[_0x24d94f(0xc7)];if(_0x31a44d)_0xc31c6e('ai',_0x31a44d);}catch(_0x3f7362){_0x47cd25('ระบบ\x20AI\x20ไม่ตอบสนอง');}finally{_0x202219[_0x24d94f(0x135)]=![];if(_0x262c0d)_0x262c0d[_0x24d94f(0x140)]=_0x24d94f(0xcf);lucide[_0x24d94f(0xd1)]();}}window[_0x1aab10(0x137)]=function(_0x1172bd){const _0x1f90d3=_0x1aab10;document[_0x1f90d3(0x13a)](_0x1f90d3(0x133))['forEach'](_0x783d58=>_0x783d58[_0x1f90d3(0xc8)][_0x1f90d3(0xfc)]('active')),document[_0x1f90d3(0x103)](_0x1f90d3(0x171)+_0x1172bd)[_0x1f90d3(0xc8)][_0x1f90d3(0xec)](_0x1f90d3(0x107)),document[_0x1f90d3(0x13a)](_0x1f90d3(0x10d))[_0x1f90d3(0xef)](_0x510576=>{const _0x4240ff=_0x1f90d3;if(_0x510576[_0x4240ff(0xee)]['tab']===_0x1172bd)_0x510576[_0x4240ff(0xc8)][_0x4240ff(0xec)](_0x4240ff(0x12d));else _0x510576[_0x4240ff(0xc8)][_0x4240ff(0x15c)]('text-indigo-600','text-slate-400');});if(_0x1172bd!==_0x1f90d3(0xda))_0x3b2fea();};if(_0x748137)_0x748137['addEventListener'](_0x1aab10(0x126),_0x45e7c5=>{const _0x44aba4=_0x1aab10;_0x45e7c5[_0x44aba4(0xe6)](),_0x4df0e0();});if(_0x49992d)_0x49992d[_0x1aab10(0xc6)](_0x1aab10(0x126),_0x17554f=>{_0x17554f['stopPropagation'](),_0x1e82bd();});if(_0x262c0d)_0x262c0d['addEventListener']('click',()=>{const _0x2653ee=_0x1aab10,_0x151a1f=_0x1fe35a[_0x2653ee(0x14b)][_0x2653ee(0xfe)]();if(!_0x151a1f||_0x202219[_0x2653ee(0x135)])return;_0xc31c6e(_0x2653ee(0xde),_0x151a1f),_0x1fe35a[_0x2653ee(0x14b)]='',_0xd2792b(_0x151a1f);});if(_0x1fe35a)_0x1fe35a['addEventListener'](_0x1aab10(0x143),_0x4edf78=>{const _0x1c0c36=_0x1aab10;if(_0x4edf78[_0x1c0c36(0x12f)]===_0x1c0c36(0x16a))_0x262c0d[_0x1c0c36(0x126)]();});function _0xc31c6e(_0x4b1525,_0xe89b29){const _0x37080f=_0x1aab10,_0x38ab94=document['createElement']('div');_0x38ab94[_0x37080f(0x16f)]=_0x37080f(0x11d)+(_0x4b1525===_0x37080f(0xde)?_0x37080f(0xe3):_0x37080f(0x159))+_0x37080f(0xf2);if(_0x4b1525==='ai'){_0x38ab94[_0x37080f(0x140)]=_0x37080f(0x150)+_0xe89b29+'</div><button\x20class=\x22chat-audio-btn\x20mb-1\x20p-2\x20bg-slate-100\x20text-slate-500\x20rounded-full\x20active:bg-indigo-600\x20active:text-white\x20transition-all\x20shadow-sm\x20flex\x20items-center\x20justify-center\x22><i\x20data-lucide=\x22volume-2\x22\x20class=\x22w-3.5\x20h-3.5\x22></i></button>';const _0x57d7b9=_0x38ab94[_0x37080f(0xce)](_0x37080f(0x121));_0x57d7b9&&(_0x57d7b9[_0x37080f(0xdf)]=async _0x5718a9=>{const _0x320214=_0x37080f;_0x5718a9[_0x320214(0xe6)]();if(_0x202219[_0x320214(0x13f)]){await _0x3b2fea();return;}_0x202219[_0x320214(0x13f)]=!![];const _0x126547=_0x57d7b9[_0x320214(0xce)](_0x320214(0xc3));_0x126547&&(_0x126547[_0x320214(0x100)]('data-lucide',_0x320214(0xe2)),lucide[_0x320214(0xd1)]()),await _0x4ec5e3(),await _0x5e1f95(_0xe89b29,_0x3b2fea,1.3);});}else _0x38ab94[_0x37080f(0x140)]=_0x37080f(0x16c)+_0xe89b29+_0x37080f(0x142);_0x53c448&&(_0x53c448['appendChild'](_0x38ab94),_0x53c448[_0x37080f(0xe7)]=_0x53c448['scrollHeight']),lucide[_0x37080f(0xd1)]();}window[_0x1aab10(0x151)]=function(){const _0x50b9a6=_0x1aab10,_0x1c94ed=document['getElementById'](_0x50b9a6(0x132));if(_0x1c94ed)_0x1c94ed[_0x50b9a6(0xe8)][_0x50b9a6(0xc0)]=_0x50b9a6(0xd5);};function _0x47cd25(_0x12c622){const _0x2adfc5=_0x1aab10,_0x135fa6=document[_0x2adfc5(0x103)](_0x2adfc5(0x132));_0x135fa6&&(document[_0x2adfc5(0x103)](_0x2adfc5(0xe5))[_0x2adfc5(0xf0)]=_0x12c622,_0x135fa6[_0x2adfc5(0xe8)][_0x2adfc5(0xc0)]=_0x2adfc5(0x115),setTimeout(hideError,0x1388));}_0x1e82bd(),_0xc31c6e('ai','สวัสดีครับ!\x20ข้อมูลล่าสุดวันที่\x203\x20ก.พ.\x202569:\x20SET\x201,336.11\x20และ\x20ทองแท่ง\x2073,600\x20บาท\x20สอบถามบทวิเคราะห์เพิ่มเติมได้เลยครับ');}));
    </script>
</body>
</html>

